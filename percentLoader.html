<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "UTF-8">
	<title>percentLoader</title>
</head>
<body>
	<canvas width = "500" height = "500" id = "canvas" style = "background:#000"></canvas>
	<script type="text/javascript">
	window.onload = function () {
		var cvs = document.getElementById('canvas'),
		    context = cvs.getContext('2d'),
		    centerX = cvs.width/2,
		    centerY = cvs.height/2,
		    rad = Math.PI*2/100,
		    speed = 0.1;	


		    //绘制蓝色外圈
		    function blueCircle(n) {
		    	context.save();
		    	context.strokeStyle = '#49f';
		    	context.lineWidth = 5;
		    	context.beginPath();
		    	context.arc(centerX,centerY,100,-Math.PI/2,-Math.PI/2 + n * rad,false);
		    	context.stroke();
		    	context.closePath();
		    	context.restore();
		    }
		    //绘制白色外圈
		    function whiteCircle() {
		    	context.save();
		    	context.beginPath();
		    	context.strokeStyle = "white";
		    	context.arc(centerX,centerY,100,0,Math.PI * 2,true);
		    	context.stroke();
		        context.closePath();
		    	context.restore();
		    }
		    //绘制文本数字
		    function text(n) {
		    	context.save();
		    	context.strokeStyle = "#49f";
		    	context.font = "40px Arial";
		    	context.strokeText(n.toFixed(0) + '%',centerX-30,centerY+10);
		    	// context.stroke();
		    	context.restore();
		    }
		    //动画循环
		    (function drawFrame() {
		    	window.requestAnimationFrame(drawFrame,canvas);
		    	context.clearRect(0,0,cvs.width,cvs.height);
		    	whiteCircle();
		    	blueCircle(speed);
		    	text(speed);
		    	if(speed >= 100) {
		    		speed = 100
		    	}else{
		    		speed += 0.1;
		    	};
		    }());
	}
	</script>
</body>
</html>